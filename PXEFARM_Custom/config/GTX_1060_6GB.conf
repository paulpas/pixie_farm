#!/usr/bin/env bash

function gtx_1060_6GB_tune
(if nvidia-smi -L | grep -q 'GeForce GTX 1060 6GB'; then
    echo "\
\"gpu_threads_conf\" :
[ "

    for i in $(nvidia-smi -L | awk '/GeForce GTX 1060 6GB/ {print $2}' | sed -e 's/://g')
    do
        echo "\
   { \"index\" : $i,
    \"threads\" : 55, \"blocks\" : 40,
    \"bfactor\" : 8, \"bsleep\" :  25,
    \"affine_to_cpu\" : false, \"sync_mode\" : 3,
  },"
    done

    echo "],"
fi) > $XMR_CPU_SRC/nvidia.txt
